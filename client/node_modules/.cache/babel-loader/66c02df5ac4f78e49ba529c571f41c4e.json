{"ast":null,"code":"var _s = $RefreshSig$();\n\n// Returns a string, either 'mobile', 'tablet', or 'desktop'\n// Used with product object, ie- product.image[useMediaSize()]\n// Change images at media breakpoints\nimport { useState, useLayoutEffect } from \"react\";\nexport const useMediaSize = () => {\n  _s();\n\n  // determine current device for initial state\n  const getCurrentDevice = () => {\n    const deviceWidth = window.innerWidth;\n    if (deviceWidth >= 1200) return 'desktop';\n    if (deviceWidth >= 700) return 'tablet';\n    return 'mobile';\n  }; // set default state\n\n\n  const [mediaSize, setMediaSize] = useState(getCurrentDevice()); // change state when browser size hits breakpoints\n\n  useLayoutEffect(() => {\n    // abort controller for synchronous state update\n    let isMounted = true; // breakpoints\n\n    const findMedia = () => {\n      const queries = ['(max-width: 699px)', '(min-width: 700px) and (max-width: 1199px)', '(min-width: 1200px)']; // returns first string from queries array that matches media query\n\n      const currentMedia = queries.find(query => {\n        return window.matchMedia(query).matches;\n      }); // change state\n\n      const changeMedia = query => {\n        // abort if component is unmounted \n        if (!isMounted) return false;\n\n        switch (query) {\n          case '(max-width: 699px)':\n            setMediaSize('mobile');\n            return;\n\n          case '(min-width: 700px) and (max-width: 1199px)':\n            setMediaSize('tablet');\n            return;\n\n          case '(min-width: 1200px)':\n            setMediaSize('desktop');\n            return;\n\n          default:\n            setMediaSize('default');\n            return;\n        }\n      }; // returns mediaQueryList object with \"onchange\" functionality\n      // change state when \"onchange\" fires\n\n\n      matchMedia(currentMedia).onchange = () => {\n        const newMedia = queries.find(query => {\n          return window.matchMedia(query).matches;\n        });\n        changeMedia(newMedia);\n      }; // console.log(mediaSize)\n\n    };\n\n    findMedia(); // toggle isMounted for abort control\n\n    return () => {\n      isMounted = false;\n    };\n  }, [mediaSize]);\n  return mediaSize;\n};\n\n_s(useMediaSize, \"bzrtC0ZdRO4/wEnh67tc/kpGG4c=\");","map":{"version":3,"sources":["/home/joshcamp503/Desktop/Code/frontend-mentor-projects/audiophile-ecommerce-website/client/src/hooks/useMediaSize.js"],"names":["useState","useLayoutEffect","useMediaSize","getCurrentDevice","deviceWidth","window","innerWidth","mediaSize","setMediaSize","isMounted","findMedia","queries","currentMedia","find","query","matchMedia","matches","changeMedia","onchange","newMedia"],"mappings":";;AAAA;AACA;AACA;AAEA,SAASA,QAAT,EAAmBC,eAAnB,QAA0C,OAA1C;AAEA,OAAO,MAAMC,YAAY,GAAG,MAAM;AAAA;;AAChC;AACA,QAAMC,gBAAgB,GAAG,MAAM;AAC7B,UAAMC,WAAW,GAAGC,MAAM,CAACC,UAA3B;AACA,QAAGF,WAAW,IAAI,IAAlB,EAAwB,OAAO,SAAP;AACxB,QAAGA,WAAW,IAAI,GAAlB,EAAuB,OAAO,QAAP;AACvB,WAAO,QAAP;AACD,GALD,CAFgC,CAShC;;;AACA,QAAM,CAACG,SAAD,EAAYC,YAAZ,IAA4BR,QAAQ,CAACG,gBAAgB,EAAjB,CAA1C,CAVgC,CAYhC;;AACAF,EAAAA,eAAe,CAAC,MAAM;AACpB;AACA,QAAIQ,SAAS,GAAG,IAAhB,CAFoB,CAGpB;;AACA,UAAMC,SAAS,GAAG,MAAM;AACtB,YAAMC,OAAO,GAAG,CACd,oBADc,EAEd,4CAFc,EAGd,qBAHc,CAAhB,CADsB,CAOtB;;AACA,YAAMC,YAAY,GAAGD,OAAO,CAACE,IAAR,CAAaC,KAAK,IAAI;AACzC,eAAOT,MAAM,CAACU,UAAP,CAAkBD,KAAlB,EAAyBE,OAAhC;AACD,OAFoB,CAArB,CARsB,CAYtB;;AACA,YAAMC,WAAW,GAAIH,KAAD,IAAW;AAC7B;AACA,YAAG,CAACL,SAAJ,EAAe,OAAO,KAAP;;AACf,gBAAQK,KAAR;AACE,eAAK,oBAAL;AACEN,YAAAA,YAAY,CAAC,QAAD,CAAZ;AACA;;AACF,eAAK,4CAAL;AACEA,YAAAA,YAAY,CAAC,QAAD,CAAZ;AACA;;AACF,eAAK,qBAAL;AACEA,YAAAA,YAAY,CAAC,SAAD,CAAZ;AACA;;AACF;AACEA,YAAAA,YAAY,CAAC,SAAD,CAAZ;AACA;AAZJ;AAcD,OAjBD,CAbsB,CAgCtB;AACA;;;AACAO,MAAAA,UAAU,CAACH,YAAD,CAAV,CAAyBM,QAAzB,GAAoC,MAAM;AACxC,cAAMC,QAAQ,GAAGR,OAAO,CAACE,IAAR,CAAaC,KAAK,IAAI;AACrC,iBAAOT,MAAM,CAACU,UAAP,CAAkBD,KAAlB,EAAyBE,OAAhC;AACD,SAFgB,CAAjB;AAGAC,QAAAA,WAAW,CAACE,QAAD,CAAX;AACD,OALD,CAlCsB,CAwCtB;;AACD,KAzCD;;AA2CAT,IAAAA,SAAS,GA/CW,CAiDpB;;AACA,WAAO,MAAM;AACXD,MAAAA,SAAS,GAAG,KAAZ;AACD,KAFD;AAIC,GAtDY,EAsDV,CAACF,SAAD,CAtDU,CAAf;AAyDA,SAAOA,SAAP;AAED,CAxEM;;GAAML,Y","sourcesContent":["// Returns a string, either 'mobile', 'tablet', or 'desktop'\n// Used with product object, ie- product.image[useMediaSize()]\n// Change images at media breakpoints\n\nimport { useState, useLayoutEffect } from \"react\";\n\nexport const useMediaSize = () => {\n  // determine current device for initial state\n  const getCurrentDevice = () => {\n    const deviceWidth = window.innerWidth\n    if(deviceWidth >= 1200) return 'desktop'\n    if(deviceWidth >= 700) return 'tablet'\n    return 'mobile'\n  }\n\n  // set default state\n  const [mediaSize, setMediaSize] = useState(getCurrentDevice())\n\n  // change state when browser size hits breakpoints\n  useLayoutEffect(() => {\n    // abort controller for synchronous state update\n    let isMounted = true;\n    // breakpoints\n    const findMedia = () => {\n      const queries = [\n        '(max-width: 699px)', \n        '(min-width: 700px) and (max-width: 1199px)', \n        '(min-width: 1200px)'\n      ]\n      \n      // returns first string from queries array that matches media query\n      const currentMedia = queries.find(query => {\n        return window.matchMedia(query).matches\n      })\n\n      // change state\n      const changeMedia = (query) => {\n        // abort if component is unmounted \n        if(!isMounted) return false\n        switch (query) {\n          case '(max-width: 699px)':\n            setMediaSize('mobile')\n            return\n          case '(min-width: 700px) and (max-width: 1199px)':\n            setMediaSize('tablet')\n            return\n          case '(min-width: 1200px)':\n            setMediaSize('desktop')\n            return\n          default:\n            setMediaSize('default')\n            return\n        }\n      }\n\n      // returns mediaQueryList object with \"onchange\" functionality\n      // change state when \"onchange\" fires\n      matchMedia(currentMedia).onchange = () => {\n        const newMedia = queries.find(query => {\n          return window.matchMedia(query).matches\n        })\n        changeMedia(newMedia)\n      }\n      // console.log(mediaSize)\n    }\n\n    findMedia()\n\n    // toggle isMounted for abort control\n    return () => {\n      isMounted = false\n    }\n\n    }, [mediaSize])\n  \n  \n  return mediaSize\n\n};\n"]},"metadata":{},"sourceType":"module"}